!function(){function e(){return $("html").is(".ie8")}function a(a){var e=a.attr("src").replace(new RegExp(".svg$"),".png");a.attr("src",e)}function t(a){$(window).on("resize",_.debounce(a,150))}function n(a,e,t){t.preventDefault();var n=a.find(".btn-success");n.unbind("click"),n.click(function(){window.open(e,"_blank").focus()}),a.modal("show")}function i(e,t,n,i){e.click(function(a){a.preventDefault(),R(e,!0),$.ajax({url:n,type:"POST",data:JSON.stringify(i())}).done(function(){t.modal("show")}).fail(function(a){console.error(a),alert(a.responseText)}).always(function(){R(e,!1)})})}function o(){function n(a,e){if(a.length){var t=a.css("height");e.css("height",t)}}$("*[data-am-match-height]").each(function(){var a=$(this),e=a.data("am-match-height");switch(e){case"first-cousin":var t=a.parent().siblings().first().children();n(t,a);break;case"last-cousin":t=a.parent().siblings().last().children();n(t,a);break;default:console.warn("Unrecognized value for am-match-height: "+e)}})}function r(){$("*[data-am-pad-to-height]").each(function(){var a=$(this),e=a.data("am-pad-to-height");switch(e){case"first-cousin":!function(a,e){if(a.length){var t=a.innerHeight()-e.innerHeight(),n=parseInt(e.css("padding-top"))+t/2;e.css("padding-top",n+"px"),e.css("padding-bottom",n+"px")}}(a.parent().siblings().first().children(),a);break;default:console.warn("Unrecognized value for am-match-height: "+e)}})}function s(){$(".am-show-on-fund-load").css("display","initial")}function f(a){for(var e={},t=0;t<a.length;t++)e[t]=a[t].replace("Â®","®");return e}function p(a,e){return a.totalReturnsSection.annualized[e]}function c(a,e){e?a.addClass("am-hide"):a.removeClass("am-hide")}function l(a){var e=$(".am-login-control"),t=$(".am-logout-control");c(e,a),c(t,!a)}$(document).ready(function(){!function(){switch(y("debug")){case"size":$(".main-header h1").addClass("debug");break;case"png-logo":a($(".am-logo img"))}}(),_.forEach([".am-fund-family table.am-fund-info tr.am-fund-overview td.am-link","section.am-mobile.am-fund-overview td.am-link"],function(a){$(a).each(function(){if($cell=$(this),""==$cell.find("a").attr("href")){var a=$(document.createElement("span")).addClass("am-bubble-cell").attr("data-am-match-height","last-cousin");$cell.empty().append(a),$cell.removeClass("am-link"),$cell.addClass("am-blank")}})}),$("a.am-leave-disclaimer").click(function(a){n($("#leave-disclaimer-modal"),$(this).attr("href"),a)}),$("*[data-am-external-account-link]").click(function(a){n($("#external-account-access-disclaimer-modal"),$(this).data("am-external-account-link"),a)}),e()&&$("img").each(function(){a($(this))}),$(".am-responsive-bg-img").each(function(){function a(){var a=function(a){var e=$(a).css("background-image");return(e=e.match(/^url\("?(.+?)"?\)$/))&&e[1]?e[1]:null}(o),i=$(o);if(a){function e(){!function(a,e){var t=new Image;$(t).load(function(){e(t.width,t.height)}),t.src=a}(a,function(a,e){var t=$(o).width(),n=Math.ceil(t*e/a)-1;i.height(n)})}e(),setTimeout(e,250)}else i.css("height","auto")}var o=this;$(window).resize(a),a()}),function(){function a(a){var e=$(this).next("ul");0<e.length&&(a.preventDefault(),function(a){var e=$(a),t=e.is(":visible");!function(a,e){var t=$(a);e?(t.addClass("am-show"),t.removeClass("am-hide")):(t.addClass("am-hide"),t.removeClass("am-show"))}(a,!t)}(e[0]))}function e(a){$(this).hasClass("am-no-click")&&a.preventDefault()}var t=$(".main-header ul.nav > li > a");v(992,function(){t.unbind("click",a),t.bind("click",e),t.next("ul").removeClass("am-show am-hide")}),g(991,function(){t.bind("click",a),t.unbind("click",e),t.next("ul").addClass("am-hide")})}(),function(){function n(t){_.forEach([".am-price",".am-price-change",".am-percent-change"],function(a){var e=t.find(a);e.addClass("am-blank"),w(e.find(".am-data")," ")})}var i=$("*[data-am-fund-summary]");i.length&&$.get("/api/v1/funds.php",function(a){_(a.objects).forEach(function(a){var e=".am-"+a.symbol,t=i.filter(e);"$0.00"!=a.price?(w(t.find(".am-price").find(".am-data"),a.price),w(t.find(".am-price-change").find(".am-data"),a.priceChange),w(t.find(".am-percent-change").find(".am-data"),a.percentChange)):n(t)}).value();var e=_.map(a.objects,function(a){return a.symbol});i.each(function(){$this=$(this),void 0===_.find($this.attr("class").split(/\s+/),function(a){return a.startsWith("am-")&&_.includes(e,a.substring(3))})&&(console.log("Clearing row..."),n($this))}),$(".am-last-update").text(a.updated),s()}).fail(function(a){console.error(a),i.find(".am-price").html("Unavailable"),i.find(".am-price-change").html("Unavailable"),i.find(".am-percent-change").html("Unavailable"),$(".am-last-update").parent().remove()})}(),function(){var e=$("*[data-am-fund-details]");if(e.length){var a=e.data("am-fund-details");if(a){function t(a){!function(a,e){"$0.00"!=a.priceSection.price?(w(e.find(".am-price").find(".am-data"),a.priceSection.price),w(e.find(".am-price-change").find(".am-data"),a.priceSection.priceChange),w(e.find(".am-percent-change").find(".am-data"),a.priceSection.percentChange),$(".am-last-update").text(a.priceSection.updated)):$("section.am-fund-overview").hide()}(a,e),function(i){$("table.am-total-returns").each(function(){var a=$(this),e=a.closest(".am-total-returns-wrapper"),t=e.is(".am-screen-xs-sm-hide"),n=e.is(".am-screen-xs-sm-only");t&&function(o,e){function r(a){console.error(a),e.closest(".am-total-returns").css("display","none")}function s(a,e){return"am-width-"+t[a-3][e]}var c,t=[["4-6th","1-6th"],["4-7th","1-7th"],["1-half","1-8th"],["4-9th","1-9th"],["4-10th","1-10th"],["4-11th","1-11th"],["4-12th","1-12th"],["4-13th","1-13th"],["4-14th","1-14th"],["4-15th","1-15th"]],a=e.find("thead"),n=a.find("tr:last-child"),i=o.totalReturnsSection.columns;if((c=i.length)<3||12<c)return r("Support between 3-12 columns for Total Returns section, found: "+i.length);function l(a,e,t){return $(document.createElement("th")).addClass(a).addClass(e).html(t)}n.append(l("am-total-returns-title",s(c,0),i[0]));for(var d=1;d<c;d++)n.append(l("am-2-line",s(c,1),i[d]));var u=function(a){return _(a.totalReturnsSection.annualized).findKey(function(a){return a})}(o),f=a.find("td.am-annualized-spacer"),m=e.find("td.am-annualized");void 0!==u?(m.attr("colspan",c-u),f.attr("colspan",u)):(f.attr("colspan",c),m.remove());var h=e.find("tbody");_.forEach(o.totalReturnsSection.rows,function(a){if(a.length==c){function e(a,e,t,n){var i=$(document.createElement("span")).addClass("am-data").html(n),o=$(document.createElement("span")).addClass("am-bubble-cell").addClass(e).append(i);return t&&o.data("am-pad-to-height","first-cousin"),$(document.createElement("td")).addClass(a).append(o)}var t=h.append('<tr class="am-bubble-row am-dynamic-content"></tr>').find("tr.am-bubble-row:last-child");t.append(e(s(c,0),"am-lt-baby-blue",!1,a[0]));for(var n=1;n<c;n++){var i=p(o,n)?"am-baby-blue":"am-lt-baby-blue";t.append(e(s(c,1),i,!0,a[n]))}}else r("Expected "+c+" values, found: "+a.length)}),e.find("tfoot td.am-periods-ending").attr("colspan",c)}(i,a),n&&function(a,e){var t=a.totalReturnsSection,n=t.rows;if(n.length<2||4<n.length)return function(a){console.error(a),e.closest("section.am-total-returns").css("display","none")}("Support between 2-4 rows, found: "+n.length);var i=e.find("thead tr:last-child"),o=$("#am-total-returns-mobile-header-"+n.length+"-template"),r=_(n).map(function(a){return a[0]}).value();r[0]=a.symbol,i.loadTemplate(o,f(r)),e.find("td.am-periods-ending").attr("colspan",n.length+1);for(var s=e.find("tbody"),c=$("#am-total-returns-mobile-entry-"+n.length+"-template"),l=1;l<t.columns.length;l++){var d=t.columns[l];p(a,l)&&(d+="*");var u=[d];_(n).forEach(function(a){u.push(a[l])}).value(),s.append('<tr class="am-bubble-row am-dynamic-content"></tr>').find("tr.am-bubble-row:last-child").loadTemplate(c,f(u))}}(i,a),w(a.find("tfoot td"),i.totalReturnsSection.footer)})}(a),function(a){var t=$("table.am-fund-info-details tbody"),n=$("#am-fund-info-entry-template");_.forEach(a.fundInfoSection.info,function(a){var e=t.append('<tr class="am-bubble-row"></tr>').find("tr.am-bubble-row:last-child");a.id=a.name.toLowerCase().replace(/\W+/g,"-"),e.loadTemplate(n,a),a.name&&e.find("*:first-child .am-bubble-cell").addClass("am-baby-blue")}),function(a){a.find(".am-bubble-cell").each(function(){$bubble=$(this);var a=$bubble.height(),e=$bubble.parent().height();a<e&&$bubble.height(e)})}(t)}(a),s(),r()}var n="/api/v1/funds/fund.php?symbol="+a;$.get(n,function(a){t(a)}).fail(function(a){if("mock-fund-details"===y("debug")){t({symbol:"ave_x",priceSection:{visible:"1",price:"$16.87",priceChange:"-$0.15",percentChange:"-0.88%",updated:"12/7/2015",info:[]},totalReturnsSection:{visible:"1",columns:["Total Returns","Year-To-Date","1<br>YEAR","3<br>YEARS","5<br>YEARS","10<br>YEARS","SINCE<br>INCEPTION"],rows:[["Ave Maria Rising Dividend Fund (AVEDX)","-2.56%","-2.86%","12.88%","12.42%","8.51%","8.72%"],["S&P 500Â® Index","3.01%","2.75%","16.09%","14.40%","7.48%","7.91%"]],footer:"PERIODS ENDING November 30, 2015"},fundInfoSection:{visible:"1",info:[{name:"Symbol",value:"AVEDX"},{name:"Inception Date",value:"May 2, 2005"},{name:"Fund Managers",value:"George P. Schwartz, CFA"},{name:"",value:"Richard L. Platte, Jr., CFA"},{name:"Net Assets",value:"$739.9 million"},{name:"Prospectus Expense Ratio*",value:"0.93%"},{name:"Number of Holdings",value:"41"},{name:"Average Market Cap",value:"$40.3 billion"},{name:"Price/Earnings Ratio",value:"18.5x"}]}})}else console.error(a)})}}}(),$(".am-slide").each(function(){var a=$(this),e=a.data("am-slide-src");if(e){var t='url("'+e+'")';a.css("background-image",t),function(a,e){var t="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"',sizingMethod='scale')";a.css("filter",t),a.css("-ms-filter",t)}(a,e)}}),function(){function a(a,e){var t=$(a);t.height(e),t.find(".slidesjs-container").height(e)}v(992,function(){a(".am-faith-matters-slides",500)}),g(991,function(){a(".am-faith-matters-slides",450)})}(),$(window).load(r),o(),$(window).load(o),t(o),function(){var n=$("#login-modal"),i=n.find(".am-submit"),a=i.closest("form"),o=a.find("input[name=email]"),r=a.find("input[name=password]");i.click(function(a){a.preventDefault();var e=o.val(),t=r.val();R(i,!0),$.ajax({url:"/api/v1/session.php",type:"PUT",data:JSON.stringify({email:e,password:t})}).done(function(){n.modal("hide"),l(!0)}).fail(function(a){console.error(a),alert("Log in failed, please try again.")}).always(function(){R(i,!1)})})}(),b(l),$logout=$(".am-logout-control"),$logout.click(function(a){a.preventDefault(),$.ajax({url:"/api/v1/session.php",type:"DELETE"}).done(function(){}).fail(function(a){console.error(a)}).always(function(){l(!1)})}),function(){function e(a){b(function(a){a&&t.each(function(){var a=$(this).data("resource");$(this).attr("href",a)})})}var t=$(".am-login-required"),n=$("#external-account-access-disclaimer-modal"),i=$("#login-modal");t.length&&(e(),i.on("hide.bs.modal",function(a){e()}),t.click(function(a){if("#"===t.first().attr("href")){a.preventDefault();var e=n.find(".btn-success");e.unbind("click"),e.click(function(){n.modal("hide"),i.modal("show")}),n.modal("show")}}))}(),$("*[data-am-link]").click(function(){var a,e=$(this);location.href=(a=e.data("am-link"),e.hasClass("am-include-referrer")?a+"?referrer="+window.location.href:a)}),$(".am-check-required-fields").each(function(){function a(){R(e,function(){for(var a=t.get(),e=0;e<a.length;e++)if(!a[e].value)return!0;return!1}())}var e=$(this),t=$(this).closest("form").find("*[required]");t.keyup(a),a()}),function(){var a=$("form.am-sign-up"),e=a.find(".am-submit");e.click(function(){R(e,!0),$.ajax({url:"/api/v1/account.php",type:"POST",data:JSON.stringify({name:k(a,"name"),firm:k(a,"firm"),address:k(a,"address"),address2:k(a,"address2"),city:k(a,"city"),state:k(a,"state"),zip:k(a,"zip"),phone:k(a,"phone"),email:k(a,"email2"),password1:k(a,"password2"),password2:k(a,"password2Confirm")})}).done(function(){var a=E("referrer")||"/";location.href=a}).fail(function(a){console.error(a),alert(a.responseText)}).always(function(){R(e,!1)})})}(),function(){var e=$("#password-reset-modal form"),t=e.find(".am-submit"),n=$("#password-reset-modal"),i=$("#password-reset-confirm-modal");t.click(function(){R(t,!0);var a=k(e,"reset-email");$.ajax({url:"/api/v1/account/passwordReset.php",type:"POST",data:JSON.stringify({email:a})}).done(function(){n.modal("hide"),i.modal("show")}).fail(function(a){console.error(a),alert(a.responseText)}).always(function(){R(t,!1)})})}(),function(){var a=$("form.am-perform-password-reset"),e=a.find(".am-submit"),t=$("#password-changed-modal");e.click(function(){R(e,!0),$.ajax({url:"/api/v1/account/passwordReset.php",type:"PUT",data:JSON.stringify({email:k(a,"email"),password1:k(a,"password1"),password2:k(a,"password2"),key:E("key")})}).done(function(){t.modal("show")}).fail(function(a){console.error(a),alert(a.responseText)}).always(function(){R(e,!1)})})}(),function(){var a=$("form.am-contact-us"),e=a.find(".am-submit"),t=$("#contact-us-confirm-modal");i(e,t,"/api/v1/contactUs.php",function(){return{firstName:k(a,"first_name"),lastName:k(a,"last_name"),purpose:C(a,"purpose"),financialProfession:k(a,"financial-professional"),company:k(a,"company"),address:k(a,"address"),address2:k(a,"address2"),city:k(a,"city"),state:S(a,"state"),zip:k(a,"zip"),phone:k(a,"phone"),timeToCall:k(a,"time-to-call"),email:k(a,"email"),referrer:x(a,"referrer"),referrerOther:k(a,"referrer-other"),recaptchaResponse:k(a,"g-recaptcha-response")}})}(),function(){var a=$("form.am-kit-request"),e=a.find(".am-submit"),t=$("#contact-us-confirm-modal");i(e,t,"/api/v1/kitRequest.php",function(){return{title:k(a,"title"),firstName:k(a,"first_name"),lastName:k(a,"last_name"),purpose:C(a,"purpose"),address:k(a,"address"),address2:k(a,"address2"),city:k(a,"city"),state:S(a,"state"),zip:k(a,"zip"),phone:k(a,"phone"),email:k(a,"email")}})}(),function(){var a=$("form.am-investment-kit-request"),e=a.find(".am-submit"),t=$("#contact-us-confirm-modal");i(e,t,"/api/v1/investmentKitRequest.php",function(){return{title:k(a,"title"),firstName:k(a,"first_name"),lastName:k(a,"last_name"),purpose:[x(a,"purpose")],address:k(a,"address"),address2:k(a,"address2"),city:k(a,"city"),state:S(a,"state"),zip:k(a,"zip"),phone:k(a,"phone"),email:k(a,"email")}})}(),function(){function a(){var a=$("#am-header-sticky-wrapper"),e=$(".main-header");a.length&&e.unwrap(),e.sticky({topSpacing:0})}t(a),a()}(),$("a").each(function(a){this.href&&this.href.endsWith(".pdf")&&$(this).attr("target","_default")}),$(window).resize(h),h()}),$(window).load(function(){!function(){if(e()||$("html").is(".ie9"))return;function a(){$(".am-downloadable").each(function(){var a=$(this);a.css("display","inline-block"),a.css("position","relative"),a.css("margin","0 auto");var e=a.find("img:first-child");if(a.css("width","auto").css("height","auto"),e.length){var t=a.append('<img src="../img/common/plus.svg" class="am-download-icon">').find(".am-download-icon"),n=function(a){var e=a.css("visibility"),t=a.css("display"),n=parseInt(a.css("height"));return"visible"==e&&"none"!=t&&0<n}(e)?function(a){var e=parseInt(a.css("width")),t=parseInt(a.css("height"));return[e,t]}(e):function(a){var e=new Image;return e.src=a.attr("src"),[e.width,e.height]}(e),i=n[0],o=n[1];a.css("width",i+"px"),a.css("height",o+"px"),t.css("width","60px"),t.css("height","60px");var r=i/2-30,s=o/2-30;t.css("left",r+"px"),t.css("top",s+"px")}})}a(),t(a)}(),_.forEach(["#am-desktop-slides","#am-mobile-slides"],function(a){var e=$(a),t=!!e.data("am-paginated"),n=e.data("am-width")||1,i=e.data("am-height")||1,o=!!e.data("am-auto-play"),r=e.data("am-effect")||"slide";e.slidesjs({width:n,height:i,navigation:{effect:r,active:!1},pagination:{effect:r,active:t},play:{active:!1,swap:!1,auto:o,interval:4e3,effect:r,restartDelay:2500},effect:{slide:{speed:1e3},fade:{speed:1e3,crossfade:!0}}})})});var d=-1,u=[],m=[];function h(){var e=window.innerWidth,t=d,a=_(u).filter(function(a){return-1==t||t<a.width}).filter(function(a){return a.width<=e}).map(function(a){return a.block}).value(),n=_(m).filter(function(a){return-1==t||t>a.width}).filter(function(a){return a.width>=e}).map(function(a){return a.block}).compact().value();_.forEach(_.flatten([a,n]),function(a){a()}),d=e}function v(a,e){u.push({width:a,block:e})}function g(a,e){m.push({width:a,block:e})}function b(a){$.get("/api/v1/session.php",a)}function w(a,e){a.html("<span></span>").find("span").text(e)}function y(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function k(a,e){return a.find("*[name="+e+"]").val()}function x(a,e){return a.find('[type="radio"][name="'+e+'"]:checked').val()}function C(a,e){return a.find('[type="checkbox"][name="'+e+'"]:checked').map(function(){return this.value}).get()}function S(a,e){return a.find('select[name="'+e+'"] option:selected').val()}function E(a){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var n=e[t].split("=");if(n[0]==a)return n[1]}return null}function R(a,e){e?a.attr("disabled","disabled"):a.removeAttr("disabled")}$(".am-table-avedx").click(function(){window.location="../fund-family/avedx.html"}),$(".am-table-avegx").click(function(){window.location="../fund-family/avegx.html"}),$(".am-table-avemx").click(function(){window.location="../fund-family/avemx.html"}),$(".am-table-avewx").click(function(){window.location="../fund-family/avewx.html"}),$(".am-table-aveax").click(function(){window.location="../fund-family/aveax.html"}),$(".am-table-avefx").click(function(){window.location="../fund-family/avefx.html"})}(),$(document).ready(function(){$("a").each(function(a){if(this.href&&this.href.endsWith(".pdf")){var e=this.href.split("/").last();e=e.replace(/%20/g," "),$(this).click(function(){ga("send","event","button","click",e)})}})}),String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});